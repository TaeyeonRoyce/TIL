# URL_송신

 `URL`을 입력하면 브라우저에서 `URL`을 해독하여 프로토콜에 알맞는 `request message`를 만든다. 그런데, 브라우저에서는 이 메시지를 네트워크에 송출하는 기능이 없어서, OS에 송신을 의뢰하여야 한다. OS에선 해당 서버로 송신하기 위해선 `IP`주소를 사용하기 때문에 `URL`의 도메인명에서 `IP`주소를 조사하여야 한다.



## TCP/IP 네트워크

#### TCP/IP 네트워크 구성

여러대의 PC가 모여있는 **허브**와 이를 구성하는 **서브넷**들이 **라우터**로 연결되어 있는 구조. 여기서 '어느 서브넷에 어느 PC'에 해당하는 주소를 가지는데, '어느 서브넷'은 **네트워트 번호**라 하고 '어느 PC'는 **호스트 번호**에 해당한다. 그리고 네트워크 번호와 호스트 번호를 합쳐 IP주소라고 한다.

아파트 주소와 비교해보면  'XX동 000호' =>'XX서브넷 00PC' 정도...?

`라우터` : 패킷을 중계하는 장치의 일종.

송신 메시지의 IP주소를 따라 `허브 -> 라우터 -> 또 다른 라우터` 를 반복하며 엑세스 대상까지 메시지를 운반.

`IP`주소는 32비트의 디지털 데이터로, 8비트씩 10진수로 표기함. 이 디지털 데이터만으로는 네트워크 번호와 호스트 번호의 구분이 어려워서 `넷마크스`라는 것을 덧붙히는 경우도 있다.

### 도메인명과 IP 주소

IP주소는 숫자로만 구성되어있어서 원하는 URL에 대해 기억하기 어렵다는 점이 있다. IP주소를 기억하기 쉬운 문자로 구성한다면, 문자열과 숫자의 차이에서 비롯되는 바이트의 규모때문에 효율성과 속도가 극히 떨어질 것이다. 이러한 이유로 도메인과 IP는 서로 상응하며 존재할 텐데, 도메인명과 IP주소간의 대응을 위해 `DNS`의 기능이 사용된다.



## DNS

(Domian Name System)

기본적인 원리는 URL의 IP주소를 DNS에 물어보는 방식이다. 물어본다 == request, DNS서버에 조회 메시지를 보내야한다. 브라우저가 만들어질때 설정된 `resolver function`을 호출하여 DNS서버에 도메인에 대한 IP주소를 조회요청을 할 수 있다.

`resolver`가 호출되면 DNS에 조회메시지를 보내고 응답받은 IP주소를 브라우저에서 지정한 메모리에 저장한다. 그리고 이 메모리 영역에서 IP주소를 추출하여 HTTP리퀘스트 메시지와 함께 OS로 송신의뢰를 한다. 

DNS서버의 주소는 미리 설정되어 있음.

resolver 예시

`<메모리 영역> = gethostbyname("www.xxxx.com")`

 





